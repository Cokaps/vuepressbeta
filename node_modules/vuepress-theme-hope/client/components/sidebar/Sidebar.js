import{computed as e,inject as t,defineComponent as i,toRefs as n,resolveComponent as a,openBlock as l,createBlock as r,mergeProps as o,withCtx as s,renderSlot as u,createCommentVNode as c,createTextVNode as p,toDisplayString as d,h as m,Transition as v,ref as k,watch as b,createVNode as h,withDirectives as f,Fragment as L,renderList as g,vShow as y}from"vue";import{isFunction as x,isString as w,isLinkHttp as $,isLinkMailto as A,isLinkTel as S}from"@vuepress/shared";import{useRouter as _,useRoute as O,RouterLink as I}from"vue-router";import{useThemeLocaleData as N}from"@vuepress/plugin-theme-data/lib/client";import{useSiteData as F}from"@vuepress/client";import{useIconPrefix as R}from"@mr-hope/vuepress-shared/client";import"./styles/index.scss";const T=(...e)=>{const t=_().resolve(...e),i=t.matched[t.matched.length-1];if(!i?.redirect)return t;const{redirect:n}=i,a=x(n)?n(t):n,l=w(a)?{path:a}:a;return T({hash:t.hash,query:t.query,params:t.params,...l})},q=e=>w(e)?D(e):e.children?{...e,children:e.children.map(q)}:e,D=e=>{const t=T(e);return{text:t.meta.title||e,link:"404"===t.name?e:t.fullPath}},B=()=>N(),E=/#.*$/u,P=e=>decodeURI(e).replace(/#.*$/,"").replace(/(index)?\.(md|html)$/,""),j=(e,t)=>{if(void 0===t)return!1;if((e=>{const t=E.exec(e);return t?t[0]:""})(t)&&e.hash!==t)return!1;return P(e.path)===P(t)},C=(e,t)=>!!j(e,t.link)||!!t.children&&t.children.some((t=>C(e,t))),G=()=>{const t=B(),i=e((()=>t.value.repo)),n=e((()=>i.value?(e=>!$(e)||/github\.com/.test(e)?"GitHub":/bitbucket\.org/.test(e)?"Bitbucket":/gitlab\.com/.test(e)?"GitLab":/gitee\.com/.test(e)?"Gitee":null)(i.value):null)),a=e((()=>i.value&&!$(i.value)?`https://github.com/${i.value}`:i.value)),l=e((()=>a.value?t.value.repoLabel?t.value.repoLabel:null===n.value?"Source":n.value:null));return e((()=>a.value&&l.value?{text:l.value,link:a.value}:null))},H=Symbol.for("sidebarItems");var U=i({name:"NavLink",inheritAttrs:!1,props:{item:{type:Object,required:!0},exact:{type:Boolean,default:!1}},emits:["focusout"],setup(t,{emit:i}){const a=O(),l=F(),r=R(),{item:o}=n(t),s=e((()=>$(o.value.link))),u=e((()=>A(o.value.link)||S(o.value.link))),c=e((()=>u.value?void 0:o.value.target?o.value.target:s.value?"_blank":void 0)),p=e((()=>"_blank"===c.value)),d=e((()=>!s.value&&!u.value&&!p.value)),m=e((()=>u.value?void 0:o.value.rel?o.value.rel:p.value?"noopener noreferrer":void 0)),v=e((()=>o.value.ariaLabel||o.value.text)),k=e((()=>{if(t.exact)return!1;const e=Object.keys(l.value.locales);return e.length?!e.some((e=>e===o.value.link)):"/"!==o.value.link}));return{isActive:e((()=>!(!d.value||!k.value)&&a.path.startsWith(o.value.link))),iconPrefix:r,isBlankTarget:p,isRouterLink:d,linkRel:m,linkTarget:c,linkAriaLabel:v,focusoutAction:()=>i("focusout")}}});U.render=function(e,t,i,n,m,v){const k=a("RouterLink"),b=a("OutboundLink");return e.isRouterLink?(l(),r(k,o({key:0,class:["nav-link",{active:e.isActive}],to:e.item.link,"aria-label":e.linkAriaLabel},e.$attrs,{onFocusout:e.focusoutAction}),{default:s((()=>[u(e.$slots,"before",{},(()=>[e.item.icon?(l(),r("i",{key:0,class:`iconfont ${e.iconPrefix}${e.item.icon}`},null,2)):c("v-if",!0)])),p(" "+d(e.item.text)+" ",1),u(e.$slots,"after")])),_:3},16,["class","to","aria-label","onFocusout"])):(l(),r("a",o({key:1,class:"nav-link external",href:e.item.link,rel:e.linkRel,target:e.linkTarget,"aria-label":e.linkAriaLabel},e.$attrs,{onFocusout:t[1]||(t[1]=(...t)=>e.focusoutAction&&e.focusoutAction(...t))}),[u(e.$slots,"before",{},(()=>[e.item.icon?(l(),r("i",{key:0,class:`iconfont ${e.iconPrefix}${e.item.icon}`},null,2)):c("v-if",!0)])),p(" "+d(e.item.text)+" ",1),e.isBlankTarget?(l(),r(b,{key:0})):c("v-if",!0),u(e.$slots,"after")],16,["href","rel","target","aria-label"]))},U.__file="src/client/components/NavLink.vue";const W=e=>e?m("i",{class:["iconfont",`${R().value}${e}`]}):null,z=(e,t)=>e.link?m(U,{...t,item:e}):m("p",t,[W(e.icon),e.text]),J=({collapsable:e,icon:t,text:i},n)=>[W(t),m("span",{class:"title"},i),e?m("span",{class:["arrow",n?"down":"right"]},i):null],K=e=>{const t=O();return e?m("ul",{class:"sidebar-sub-headers"},e.map((e=>{const i=j(t,e.link);return m("li",{class:"sidebar-sub-header"},[z(e,{class:{"sidebar-link":!0,heading:!0,active:i}}),K(e.children)])}))):null};var M=i({name:"RepoLink",setup(){const e=G();return()=>e.value?m(U,{class:"repo-link",item:e.value}):null}}),Q=i({name:"ExpandTransition",setup(){const e=e=>{e.style.height=`${e.scrollHeight}px`},t=e=>{e.style.height=""};return()=>m(v,{name:"expand",onEnter:e,onAfterEnter:t,onBefoerLeave:t})}}),V=i({name:"SidebarDropdownLink",components:{ExpandTransition:Q,NavLink:U},props:{item:{type:Object,required:!0}},setup(t){const{item:i}=n(t),a=R(),l=e((()=>i.value.ariaLabel||i.value.text)),r=k(!1),o=O();b((()=>o.path),(()=>{r.value=!1}));return{open:r,dropdownAriaLabel:l,iconPrefix:a,handleDropdown:e=>{const t=0===e.detail;r.value=!!t&&!r.value},isLastItemOfArray:(e,t)=>t[t.length-1]===e}}});const X={class:"title"},Y={class:"nav-dropdown"},Z={class:"dropdown-subtitle"},ee={key:1},te={class:"dropdown-subitem-wrapper"};V.render=function(e,t,i,n,o,m){const v=a("NavLink"),k=a("ExpandTransition");return l(),r("div",{class:["mobile-dropdown-wrapper",{open:e.open}]},[h("button",{class:"dropdown-title",type:"button","aria-label":e.dropdownAriaLabel,onClick:t[1]||(t[1]=(...t)=>e.handleDropdown&&e.handleDropdown(...t))},[u(e.$slots,"title",{},(()=>[h("span",X,[e.item.icon?(l(),r("i",{key:0,class:`iconfont ${e.iconPrefix}${e.item.icon}`},null,2)):c("v-if",!0),p(" "+d(e.item.text),1)])])),h("span",{class:["arrow",e.open?"down":"right"]},null,2)],8,["aria-label"]),h(k,null,{default:s((()=>[f(h("ul",Y,[(l(!0),r(L,null,g(e.item.children,((t,i)=>(l(),r("li",{key:t.link||i,class:"dropdown-item"},[t.children?(l(),r(L,{key:0},[h("h4",Z,[t.link?(l(),r(v,{key:0,item:t,onFocusout:i=>e.isLastItemOfArray(t,e.item.children)&&0===t.children.length&&(e.open=!1)},null,8,["item","onFocusout"])):(l(),r("span",ee,d(t.text),1))]),h("ul",te,[(l(!0),r(L,null,g(t.children,(i=>(l(),r("li",{key:i.link,class:"dropdown-subitem"},[h(v,{item:i,onFocusout:n=>e.isLastItemOfArray(i,t.children)&&e.isLastItemOfArray(t,e.item.children)&&(e.open=!1)},null,8,["item","onFocusout"])])))),128))])],64)):(l(),r(v,{key:1,item:t,onFocusout:i=>e.isLastItemOfArray(t,e.item.children)&&(e.open=!1)},null,8,["item","onFocusout"]))])))),128))],512),[[y,e.open]])])),_:1})],2)},V.__file="src/client/components/sidebar/DropdownLink.vue";var ie=i({name:"SidebarNavLinks",components:{NavLink:U,RepoLink:M,SidebarDropdownLink:V},setup(){const t=e((()=>(B().value.navbar||[]).map(q))),i=G();return{navbarLinks:e((()=>[...t.value,i.value]))}}});const ne={key:0,class:"sidebar-nav-links"};ie.render=function(e,t,i,n,o,s){const u=a("SidebarDropdownLink"),p=a("NavLink"),d=a("RepoLink");return e.navbarLinks.length?(l(),r("nav",ne,[(l(!0),r(L,null,g(e.navbarLinks,(e=>(l(),r("div",{key:e.text,class:"navbar-links-item"},[e.children?(l(),r(u,{key:0,item:e},null,8,["item"])):(l(),r(p,{key:1,item:e},null,8,["item"]))])))),128)),h(d)])):c("v-if",!0)},ie.__file="src/client/components/sidebar/NavLinks.vue";var ae=i({name:"SidebarChild",props:{item:{type:Object,required:!0}},setup(e){const t=O();return()=>[z(e.item,{class:{"sidebar-link":!0,heading:"heading"===e.item.type,active:j(t,e.item.link)},exact:!0}),K(e.item.children)]}}),le=i({name:"SidebarGroup",props:{item:{type:Object,required:!0},open:{type:Boolean,required:!0}},emits:["toggle"],setup(e,{emit:t}){const i=O(),n=C(i,e.item);return()=>[m("section",{class:"sidebar-group"},[e.item.link?m(I,{to:e.item.link,class:{"sidebar-heading":!0,clickable:!0,active:n},onClick:()=>t("toggle")},J(e.item,e.open)):m("p",{to:e.item.link,class:{"sidebar-heading":!0,clickable:e.item.collapsable,active:n},onClick:()=>t("toggle")},J(e.item,e.open)),m(oe,{items:e.item.children||[]})])]}});const re=(e,t)=>"group"===t.type&&t.children.some((t=>"group"===t.type?re(e,t):"page"===t.type&&j(e,t.link)));var oe=i({name:"SidebarLinks",props:{items:{type:Array,required:!0}},setup(e){const t=O(),i=k(0),n=()=>{const n=((e,t)=>{for(let i=0;i<t.length;i++)if(re(e,t[i]))return i;return-1})(t,e.items);n>-1&&(i.value=n)};return b((()=>t.path),(()=>{n()})),()=>m("ul",{class:"sidebar-links"},e.items.map(((e,t)=>m("li","group"===e.type?m(le,{item:e,open:t===i.value,onToggle:()=>(e=>{i.value=e===i.value?-1:e})(t)}):m(ae,{item:e})))))}}),se=i({name:"Sidebar",components:{SidebarNavLinks:ie,SidebarLinks:oe},setup:()=>({sidebarItems:(()=>{const e=t(H);if(!e)throw new Error("useSidebarItems() is called without provider.");return e})()})});const ue={class:"sidebar"};se.render=function(e,t,i,n,o,s){const c=a("SidebarNavLinks"),p=a("SidebarLinks");return l(),r("aside",ue,[h(c),u(e.$slots,"top"),h(p,{items:e.sidebarItems},null,8,["items"]),u(e.$slots,"bottom")])},se.__file="src/client/components/sidebar/Sidebar.vue";export default se;
//# sourceMappingURL=Sidebar.js.map
