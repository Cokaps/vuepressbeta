import{defineComponent as e,toRefs as t,computed as a,resolveComponent as i,openBlock as l,createBlock as r,mergeProps as n,withCtx as o,renderSlot as u,createCommentVNode as s,createTextVNode as c,toDisplayString as v,ref as m,watch as p,provide as f}from"vue";import{useRoute as k,useRouter as h}from"vue-router";import{usePageData as d,usePageFrontmatter as b,usePagesData as y,useSiteData as g,defineClientAppSetup as x}from"@vuepress/client";import{isFunction as $,isString as L,isArray as A,isPlainObject as w,resolveLocalePath as P,isLinkHttp as R,isLinkMailto as T,isLinkTel as _}from"@vuepress/shared";import{useThemeLocaleData as q}from"@vuepress/plugin-theme-data/lib/client";import{useIconPrefix as B}from"@mr-hope/vuepress-shared/client";const D=(e,...t)=>{const a=e.resolve(...t),i=a.matched[a.matched.length-1];if(!i?.redirect)return a;const{redirect:l}=i,r=$(l)?l(a):l,n=L(r)?{path:r}:r;return D(e,{hash:a.hash,query:a.query,params:a.params,...n})},F=(e,t)=>t>0?e.map((e=>((e,t)=>{const a=d();return{type:"heading",text:e.title,link:`${a.value.path}#${e.slug}`,children:F(e.children,t)}})(e,t-1))):[],O=async(e,t,a)=>{const i=y(),l=async t=>{const r=L(t)?((e,t)=>{const a=D(e,t);return{text:a.meta.title||t,link:"404"===a.name?t:a.fullPath}})(e,t):t;if("children"in r){const e=await Promise.all(r.children.map((async e=>await l(e))));return{type:"group",...r,children:e}}const n=i.value[r.link]?await i.value[r.link]():null;return{type:"page",...r,children:n?F(n.headers,a):[]}};return await Promise.all(t.map((e=>l(e))))},j=async(e,t,a,i)=>!1===a?[]:"auto"===a?(e=>{const t=b(),a=d();return[{type:"group",text:a.value.title,icon:t.value.icon,children:F(a.value.headers,e)}]})(i):A(a)?await O(e,a,i):w(a)?await(async(e,t,a,i)=>{const l=a[P(a,t)]??[];return await O(e,l,i)})(e,t,a,i):[],N=Symbol.for("sidebarItems");var I=e({name:"NavLink",inheritAttrs:!1,props:{item:{type:Object,required:!0},exact:{type:Boolean,default:!1}},emits:["focusout"],setup(e,{emit:i}){const l=k(),r=g(),n=B(),{item:o}=t(e),u=a((()=>R(o.value.link))),s=a((()=>T(o.value.link)||_(o.value.link))),c=a((()=>s.value?void 0:o.value.target?o.value.target:u.value?"_blank":void 0)),v=a((()=>"_blank"===c.value)),m=a((()=>!u.value&&!s.value&&!v.value)),p=a((()=>s.value?void 0:o.value.rel?o.value.rel:v.value?"noopener noreferrer":void 0)),f=a((()=>o.value.ariaLabel||o.value.text)),h=a((()=>{if(e.exact)return!1;const t=Object.keys(r.value.locales);return t.length?!t.some((e=>e===o.value.link)):"/"!==o.value.link}));return{isActive:a((()=>!(!m.value||!h.value)&&l.path.startsWith(o.value.link))),iconPrefix:n,isBlankTarget:v,isRouterLink:m,linkRel:p,linkTarget:c,linkAriaLabel:f,focusoutAction:()=>i("focusout")}}});I.render=function(e,t,a,m,p,f){const k=i("RouterLink"),h=i("OutboundLink");return e.isRouterLink?(l(),r(k,n({key:0,class:["nav-link",{active:e.isActive}],to:e.item.link,"aria-label":e.linkAriaLabel},e.$attrs,{onFocusout:e.focusoutAction}),{default:o((()=>[u(e.$slots,"before",{},(()=>[e.item.icon?(l(),r("i",{key:0,class:`iconfont ${e.iconPrefix}${e.item.icon}`},null,2)):s("v-if",!0)])),c(" "+v(e.item.text)+" ",1),u(e.$slots,"after")])),_:3},16,["class","to","aria-label","onFocusout"])):(l(),r("a",n({key:1,class:"nav-link external",href:e.item.link,rel:e.linkRel,target:e.linkTarget,"aria-label":e.linkAriaLabel},e.$attrs,{onFocusout:t[1]||(t[1]=(...t)=>e.focusoutAction&&e.focusoutAction(...t))}),[u(e.$slots,"before",{},(()=>[e.item.icon?(l(),r("i",{key:0,class:`iconfont ${e.iconPrefix}${e.item.icon}`},null,2)):s("v-if",!0)])),c(" "+v(e.item.text)+" ",1),e.isBlankTarget?(l(),r(h,{key:0})):s("v-if",!0),u(e.$slots,"after")],16,["href","rel","target","aria-label"]))},I.__file="src/client/components/NavLink.vue";var S=x((()=>{const e=h(),t=k(),i=q(),l=b(),r=m([]),n=a((()=>!l.value.home&&(l.value.sidebar??i.value.sidebar??"auto"))),o=a((()=>l.value.sidebarDepth??i.value.sidebarDepth??2));p([()=>t.path,n,o],(([t,a,i],l,n)=>{let o=!1;n((()=>{o=!0})),j(e,t,a,i).then((e=>{o||(r.value=e)}))}),{deep:!0,immediate:!0}),f(N,r)}));export default S;
//# sourceMappingURL=appSetup.js.map
