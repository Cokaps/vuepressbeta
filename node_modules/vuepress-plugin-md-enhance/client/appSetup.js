import{defineClientAppSetup as e}from"@vuepress/client";import{watch as t,onMounted as s}from"vue";import{useRoute as n}from"vue-router";import"./styles/code-demo.scss";const o=CODE_DEMO_OPTIONS,c=(e,t,s)=>{const n=document.createElement(e);return t&&Object.keys(t).forEach((e=>{if(e.indexOf("data"))n[e]=t[e];else{const s=e.replace("data","");n.dataset[s]=t[e]}})),s&&s.forEach((e=>{n.appendChild(e)})),n},i=e=>e.replace(/<br \/>/g,"<br>").replace(/<((\S+)[^<]*?)\s+\/>/g,"<$1></$2>"),a=e=>`<div id="app">${i(e)}</div>`,l=e=>`${e.replace("export default ","").replace(/App\.__style__(\s*)=(\s*)`([\s\S]*)?`/,"")}ReactDOM.render(React.createElement(App), document.getElementById("app"))`,r=e=>`new Vue({ el: '#app', ${e.replace(/export\s+default\s*\{(\n*[\s\S]*)\n*\}\s*;?$/u,"$1").replace(/export\s+default\s*Vue\.extend\s*\(\s*\{(\n*[\s\S]*)\n*\}\s*\)\s*;?$/u,"$1").trim()} })`,d=(e,t)=>{const s=t.split(/export\s+default/u),n=`(function() {${s[0]} ; return ${s[1]}})()`,o=window.Babel?window.Babel.transform(n,{presets:["es2015"]}).code:n,c=[eval][0](o);return c.template=e,c},p=e=>{const t=window.Babel?window.Babel.transform(e,{presets:["es2015"]}).code:e;return new Function(`return (function(){${t}})()`)},m={html:{types:["html","slim","haml","md","markdown","vue"],map:{html:"none",vue:"none",md:"markdown"}},js:{types:["js","javascript","coffee","coffeescript","ts","typescript","ls","livescript"],map:{js:"none",javascript:"none",coffee:"coffeescript",ls:"livescript",ts:"typescript"}},css:{types:["css","less","sass","scss","stylus","styl"],map:{css:"none",styl:"stylus"}}},u=(e,t)=>Array.from(e.querySelectorAll(`.${t}`)),h=(e,t,s,n)=>{const o=e.classList.contains("down");t.style.height=o?`${s.clientHeight+13.8}px`:"0",o?(n.classList.add("show-link"),e.classList.remove("down")):(n.classList.remove("show-link"),e.classList.add("down"))},f=({html:e,js:t,css:s,jsLib:n,cssLib:i},a)=>c("form",{className:"code-demo-codepen",target:"_blank",action:"https://codepen.io/pen/define",method:"post"},[c("input",{type:"hidden",name:"data",value:JSON.stringify({html:e,js:t,css:s,js_external:[...n,...o.jsLib].join(";"),css_external:[...i,...o.cssLib].join(";"),layout:o.codepenLayout,html_pre_processor:a?a.html[1]:"none",js_pre_processor:a?a.js[1]:"none",css_pre_processor:a?a.css[1]:"none",editors:o.editors})}),c("button",{type:"submit",innerHTML:'<svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="200" height="200"><defs><style/></defs><path d="M123.429 668L468 897.714V692.571L277.143 565.143zM88 585.714L198.286 512 88 438.286v147.428zm468 312L900.571 668 746.857 565.143 556 692.57v205.143zM512 616l155.429-104L512 408 356.571 512zM277.143 458.857L468 331.43V126.286L123.429 356zM825.714 512L936 585.714V438.286zm-78.857-53.143L900.571 356 556 126.286v205.143zM1024 356v312q0 23.429-19.429 36.571l-468 312Q524.571 1024 512 1024t-24.571-7.429l-468-312Q0 691.43 0 668V356q0-23.429 19.429-36.571l468-312Q499.429 0 512 0t24.571 7.429l468 312Q1024 332.57 1024 356z"/></svg>',className:"button",datatip:"Codepen"})]),y=({code:e,codeType:t,container:s,title:n})=>{const{id:i}=s,a=u(s,"demo-wrapper")[0],l=u(s,"code-wrapper")[0],r=u(s,"code")[0],d=u(s,"code-demo-footer")[0];if(e.script){const t=c("button",{className:"expand arrow down"});d.appendChild(t),d.appendChild(c("span",{className:"title",innerHTML:n})),t.addEventListener("click",h.bind(null,t,l,r,d)),l.style.height="0",e.css&&((e,t)=>{const s=document.querySelector(`#${t}`),n=/([\s\S]*?)\{([\s\S]*?)\}/gu;let o,i="";for(;o=n.exec(e);){const[,e,s]=o;i+=`${e.replace(/\n/g,"").split(",").map((e=>`#${t} .demo-wrapper ${e}`)).join(",")}{${s}}`}const a=c("style",{innerHTML:i});s&&!s.hasAttribute("demo-styled")&&(s.appendChild(a),s.setAttribute("demo-styled",""))})(e.css,i),!1!==o.jsfiddle&&d.appendChild((({html:e,js:t,css:s,jsLib:n,cssLib:i})=>c("form",{className:"code-demo-jsfiddle",target:"_blank",action:"https://jsfiddle.net/api/post/library/pure/",method:"post"},[c("input",{type:"hidden",name:"html",value:e}),c("input",{type:"hidden",name:"js",value:t}),c("input",{type:"hidden",name:"css",value:s}),c("input",{type:"hidden",name:"wrap",value:"1"}),c("input",{type:"hidden",name:"panel_js",value:"3"}),c("input",{type:"hidden",name:"resources",value:[...n,...i,...o.cssLib,...o.jsLib].join(",")}),c("button",{type:"submit",className:"button",innerHTML:'<svg class="icon" viewBox="0 0 1170 1024" xmlns="http://www.w3.org/2000/svg" width="228.516" height="200"><defs><style/></defs><path d="M1028.571 441.143q63.429 26.286 102.572 83.143t39.143 126.571q0 93.714-67.429 160.286T940 877.714q-2.286 0-6.571-.285t-6-.286H232q-97.143-5.714-164.571-71.714T0 645.143q0-62.857 31.429-116t84-84q-6.858-22.286-6.858-46.857 0-65.715 46.858-112T269.143 240q54.286 0 98.286 33.143 42.857-88 127.142-141.714t186.572-53.715q94.857 0 174.857 46t126.571 124.857 46.572 172q0 3.429-.286 10.286t-.286 10.286zm-761.142 152q0 69.714 48 110.286T434.286 744q78.285 0 137.143-56.571-9.143-11.429-27.143-32.286t-24.857-28.857q-38.286 37.143-82.286 37.143-31.429 0-53.429-19.143t-22-50q0-30.286 22-49.715T436 525.143q25.143 0 48.286 12T526 568.57t37.143 42.858 39.428 46.857 44 42.857T702 732.57t69.429 12q69.142 0 116.857-40.857T936 594.857q0-69.143-48-109.714T769.714 444.57Q688 444.571 632 500l53.143 61.714q37.714-36.571 81.143-36.571 29.714 0 52.571 18.857t22.857 48q0 32.571-21.143 52.286T766.857 664q-24.571 0-47.143-12t-41.143-31.429-37.428-42.857-39.714-46.857T557.143 488 502 456.571t-67.714-12q-69.715 0-118.286 40.286t-48.571 108.286z"/></svg>',datatip:"JSFiddle"})]))(e)),!1!==o.codepen&&d.appendChild(f(e))}else a.style.display="none",l.style.height="auto",d.appendChild(f(e,t)),d.style.height="40px"},w=()=>{setTimeout((()=>{const e=u(document,"code-demo-wrapper");e.length&&e.forEach((e=>{if(!e.hasAttribute("demo-inited")){const t=u(e,"code-demo-app")[0],s=decodeURIComponent(e.dataset.title||""),n=decodeURIComponent(e.dataset.type||"normal"),c=JSON.parse(decodeURIComponent(e.dataset.config||"{}")),h=(e=>{const t=Object.keys(e),s={html:[],js:[],css:[],isLegal:!1};return["html","js","css"].forEach((n=>{const o=t.filter((e=>m[n].types.includes(e)));if(o.length){const t=o[0];s[n]=[e[t].replace(/^\n|\n$/g,""),m[n].map[t]||t]}})),s.isLegal=!(s.html.length&&"none"!==s.html[1]||s.js.length&&"none"!==s.js[1]||s.css.length&&"none"!==s.css[1]),s})(JSON.parse(decodeURIComponent(e.dataset.code||"{}")));if(n.includes("react")){const n=((e,t)=>{const s=e.isLegal&&window.Babel?new Function(`return (function(exports){var module={};module.exports=exports;${window.Babel.transform(e.js[0]||"",{presets:["es2015","react"]}).code};return module.exports.__esModule?module.exports.default:module.exports;})({})`)():void 0;return{html:a(""),js:l(e.js[0]||""),css:e.css[0]||"",jsLib:[o.react,o.reactDOM,...t.jsLib||[]],cssLib:t.cssLib||[],script:s}})(h,c);n.script&&window.ReactDOM.render(window.React.createElement(n.script),t),y({code:n,codeType:h,container:e,title:s})}else if(n.includes("vue")){const n=((e,t)=>{const s=e.html[0]||"",n=/<template>([\s\S]+)<\/template>/u.exec(s),c=/<script(\s*lang=(['"])(.*?)\2)?>([\s\S]+)<\/script>/u.exec(s),i=/<style(\s*lang=(['"])(.*?)\2)?\s*(?:scoped)?>([\s\S]+)<\/style>/u.exec(s),l=n?n[1].replace(/^\n|\n$/g,""):"",[p="",m=""]=c?[c[4].replace(/^\n|\n$/g,""),c[3]]:[],[u="",h=""]=i?[i[4].replace(/^\n|\n$/g,""),i[3]]:[],f=""===m&&(""===h||"css"===h);return{html:a(l),js:r(p),css:u,jsLib:[o.vue,...t.jsLib||[]],cssLib:t.cssLib||[],script:f?d(l,p):void 0}})(h,c);if(n.script){window.Vue.createApp(n.script).mount(t)}y({code:n,codeType:h,container:e,title:s})}else{const n=((e,t)=>({html:i(e.html[0]||""),js:e.js[0]||"",css:e.css[0]||"",jsLib:t.jsLib||[],cssLib:t.cssLib||[],script:e.isLegal?p(e.js[0]||""):void 0}))(h,c);n.script&&(t.innerHTML=n.html,n.script()),y({code:n,codeType:h,container:e,title:s})}e.setAttribute("demo-inited","")}}))}),MARKDOWN_DELAY)};var L=e((()=>{const e=n();t((()=>e.path),(()=>w())),s((()=>w()))}));export default L;
//# sourceMappingURL=appSetup.js.map
